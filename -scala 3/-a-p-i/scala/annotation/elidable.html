<html><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><title>elidable</title><link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.ico"></link><script type="text/javascript" src="../../../../scripts/sourceset_dependencies.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/clipboard.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/platform-content-handler.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/main.js" defer="true"></script><link rel="stylesheet" href="../../../../styles/nord-light.css"></link><link rel="stylesheet" href="../../../../styles/scalastyle.css"></link><link rel="stylesheet" href="../../../../styles/dotty-icons.css"></link><link rel="stylesheet" href="../../../../styles/diagram.css"></link><link rel="stylesheet" href="../../../../styles/filter-bar.css"></link><link rel="stylesheet" href="../../../../styles/search-bar.css"></link><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/diagram.js" defer="true"></script><link rel="stylesheet" href="../../../../styles/filter-bar.css"></link><script type="text/javascript" src="../../../../hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/ux.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/common/component.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/data.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/fast-navigation-loader.js" defer="true"></script><script>var pathToRoot = "../../../../";</script></head><body><div id="container"><div id="leftColumn"><div id="logo"><span><img src="../../../../project-logo/logo.svg"></img></span><span><div class="projectName">Scala 3</div></span><span><div class="projectVersion">3.0.0-M3-bin-20201204-e834186-NIGHTLY</div></span></div><div id="paneSearch"></div><nav id="sideMenu"></nav></div><div id="main"><div id="leftToggler"><span class="icon-toggler"></span></div><div id="searchBar"></div><main>
  <div id="content" pageIds="scala.annotation/elidable///PointingToDeclaration/elidablescala.annotation.elidable//[]/-593896315">
    <div class="breadcrumbs"><a href="../../../../docs/index.html">Scala 3</a>/<a href="../../../../api/index.html">API</a>/<a href="../index.html">scala</a>/<a href="index.html">annotation</a>/<a href="elidable.html">elidable</a></div>
    <div class="cover ">
      <h1 class="">elidable</h1>
      <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable="Scala 3/main"><div class="symbol monospace">final class <a href="elidable.html">elidable</a>(val level: <a href="../-int.html">Int</a>) extends <a href="-static-annotation.html">StaticAnnotation</a></div><div class="block borderless"><div class="block borderless"><div class="block borderless"><p class="paragraph"><p class="paragraph">An annotation for methods whose bodies may be excluded
from compiler-generated bytecode.</p><p class="paragraph">Behavior is influenced by passing <code>-Xelide-below &lt;arg&gt;</code> to <code>scalac</code>.
Calls to methods marked elidable (as well as the method body) will
be omitted from generated code if the priority given the annotation
is lower than that given on the command line.</p><div class="sample-container"><pre><code class=" language-scala" theme="idea">@elidable(123)           // annotation priority
scalac -Xelide-below 456 // command line priority</code></pre></div><p class="paragraph">The method call will be replaced with an expression which depends on
the type of the elided expression.  In decreasing order of precedence:</p><div class="sample-container"><pre><code class=" language-scala" theme="idea">Unit            ()
Boolean         false
T &lt;: AnyVal     0
T &gt;: Null       null
T &gt;: Nothing    Predef.???</code></pre></div><p class="paragraph">Complete example:</p><div class="sample-container"><pre><code class=" language-scala" theme="idea">import scala.annotation._, elidable._
object Test extends App {
  def expensiveComputation(): Int = { Thread.sleep(1000) ; 172 }

  @elidable(WARNING) def warning(msg: String) = println(msg)
  @elidable(FINE) def debug(msg: String)      = println(msg)
  @elidable(FINE) def computedValue           = expensiveComputation()

  warning(&quot;Warning! Danger! Warning!&quot;)
  debug(&quot;Debug! Danger! Debug!&quot;)
  println(&quot;I computed a value: &quot; + computedValue)
}
% scalac example.scala &amp;&amp; scala Test
Warning! Danger! Warning!
Debug! Danger! Debug!
I computed a value: 172

// INFO lies between WARNING and FINE
% scalac -Xelide-below INFO example.scala &amp;&amp; scala Test
Warning! Danger! Warning!
I computed a value: 0</code></pre></div><p class="paragraph">Note that only concrete methods can be marked <code>@elidable</code>. A non-annotated method
is not elided, even if it overrides / implements a method that has the annotation.</p><p class="paragraph">Also note that the static type determines which annotations are considered:</p><div class="sample-container"><pre><code class=" language-scala" theme="idea">import scala.annotation._, elidable._
class C { @elidable(0) def f(): Unit = ??? }
object O extends C { override def f(): Unit = println(&quot;O.f&quot;) }
object Test extends App {
  O.f()      // not elided
  (O: C).f() // elided if compiled with `-Xelide-below 1`
}</code></pre></div></p></div></div><dl class="attributes"><dt>Companion</dt><dd><a href="elidable$.html">object</a></dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-M3/src_managed/main/scala-library-src/scala/annotation/elidable.scala#L79">(source)</a></dd></dl></div></div></div>
    </div>
<div class="documentableFilter"><div class="filterUpperContainer"><button class="filterToggleButton" data-test-id="filterToggleButton">
          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button><input class="filterableInput" placeholder="Filter all members" data-test-id="filterBarInput"></input></div><div class="filterLowerContainer"></div></div>    <div class="tabbedcontent">
      <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="Value members">Value members</button><button class="section-tab" data-togglable="Linear supertypes">Linear supertypes</button><button class="section-tab" data-togglable="Type hierarchy">Type hierarchy</button></div>
      <div class="tabs-section-body">
        <h3 class="tabbedcontent">Value members</h3>
        <div data-togglable="Value members"><div class="documentableList" data-test-id="definitionList"><h3 class="documentableHeader">Defined value members</h3><div class="documentableElement" data-f-keywords="final"><div class="annotations monospace"></div><div><a href="#" class="documentableAnchor"></a><span class="modifiers monospace"><span class="other-modifiers">final </span><span class="kind">val </span></span><span data-unresolved-link="" class="documentableName monospace">level</span><span class="signature monospace">: <a href="../-int.html">Int</a></span><div><div class="originInfo"></div><div class="documentableBrief"></div></div></div></div></div></div>
        <h2 class="tabbedcontent">Linear supertypes</h2>
        <div data-togglable="Linear supertypes"><div class="symbol monospace">
  <div class="symbol paragraph">trait <a href="-static-annotation.html">StaticAnnotation</a></div>

  <div class="symbol paragraph">class <a href="-annotation.html">Annotation</a></div>

  <div class="symbol paragraph">class <span data-unresolved-link="java.lang/Object///PointingToDeclaration/Objectjava.lang.Object//[]">Object</span></div>

  <div class="symbol paragraph">class <span data-unresolved-link="scala/Any///PointingToDeclaration/Anyscala.Any//[]">Any</span></div>
</div></div>
        <h2 class="tabbedcontent">Type hierarchy</h2>
        <div data-togglable="Type hierarchy"><div class="symbol monospace"><div id="inheritance-diagram" class="diagram-class"><svg id="graph"></svg><script type="text/dot" id="dot"> digraph g {
 node0 [label="<span style=\"color: #FFFFFF;\">class <a href=\"elidable.html\">elidable</a></span>", style="fill: #45AD7D;"];
node1 [label="<span style=\"color: #FFFFFF;\">class <a href=\"-annotation.html\">Annotation</a></span>", style="fill: #45AD7D;"];
node2 [label="<span style=\"color: #FFFFFF;\">trait <a href=\"-static-annotation.html\">StaticAnnotation</a></span>", style="fill: #1CAACF;"];
node3 [label="<span style=\"color: #FFFFFF;\">class <span data-unresolved-link=\"\">Object</span></span>", style="fill: #45AD7D;"];


 node0 -> node1;
node0 -> node2;
node2 -> node1;
node1 -> node3;

}
</script></div></div></div>
      </div>
    </div>
  </div>
</main><footer><span class="go-to-top-icon"><a href="#container"><span class="icon-vertical_align_top"></span>&nbsp;Back to top</a></span>Generated by&nbsp;<a href="https://github.com/lampepfl/dotty/tree/master/scala3doc"><img src="../../../../images/scala3doc_logo.svg" alt="Scala3doc" class="scala3doc_logo"></img></a></footer></div></div><script type="text/javascript" src="../../../../scripts/pages.js"></script><script type="text/javascript" src="../../../../scripts/main.js"></script></body></html>
