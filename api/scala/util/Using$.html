<html><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><title>Using</title><link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico"></link><script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" defer="true"></script><script type="text/javascript" src="../../../scripts/clipboard.js" defer="true"></script><script type="text/javascript" src="../../../scripts/platform-content-handler.js" defer="true"></script><script type="text/javascript" src="../../../scripts/main.js" defer="true"></script><link rel="stylesheet" href="../../../styles/nord-light.css"></link><link rel="stylesheet" href="../../../styles/scalastyle.css"></link><link rel="stylesheet" href="../../../styles/dotty-icons.css"></link><link rel="stylesheet" href="../../../styles/diagram.css"></link><link rel="stylesheet" href="../../../styles/filter-bar.css"></link><link rel="stylesheet" href="../../../styles/search-bar.css"></link><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><link rel="stylesheet" href="../../../styles/filter-bar.css"></link><script type="text/javascript" src="../../../hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="../../../scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="../../../scripts/ux.js" defer="true"></script><script type="text/javascript" src="../../../scripts/common/component.js" defer="true"></script><script type="text/javascript" src="../../../scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="../../../scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="../../../scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="../../../scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="../../../scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="../../../scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="../../../scripts/data.js" defer="true"></script><script>var pathToRoot = "../../../";</script></head><body><div id="container"><div id="leftColumn"><div id="logo"><span><img src="../../../project-logo/logo.svg"></img></span><span><div class="projectName">Scala 3</div></span><span><div class="projectVersion">3.0.0-RC1-bin-20201227-8fab91c-NIGHTLY</div></span></div><div id="paneSearch"></div><nav id="sideMenu2"><div class="expanded"><a href="../../../index.html">Scala 3</a><span></span><div><a href="../../../blog/index.html">Blog</a><span></span><div><a href="../../../blog/2020/12/18/scala3-m3.html">Scala 3.0.0-M3: developer&apos;s preview before RC1</a></div><div><a href="../../../blog/2020/11/09/scala3-m1.html">Scala 3.0.0-M1 is here</a></div><div><a href="../../../blog/2020/09/21/naming-schema-change.html">Dotty becomes Scala 3</a></div><div><a href="../../../blog/2020/08/31/27th-dotty-milestone-release.html">Announcing Dotty 0.27.0-RC1 - ScalaJS, performance, stability</a></div><div><a href="../../../blog/2020/07/27/26th-dotty-milestone-release.html">Announcing Dotty 0.26.0-RC1 - unified extension methods and more</a></div><div><a href="../../../blog/2020/06/22/25th-dotty-milestone-release.html">Announcing Dotty 0.25.0-RC2 - speed-up of givens and change in the tuple API</a></div><div><a href="../../../blog/2020/04/29/24th-dotty-milestone-release.html">Announcing Dotty 0.24.0-RC1 - 2.13.2 standard library, better error messages and more</a></div><div><a href="../../../blog/2020/03/18/23rd-dotty-milestone-release.html">Announcing Dotty 0.23.0-RC1 - safe initialization checks, type-level bitwise operations and more</a></div><div><a href="../../../blog/2020/02/05/22nd-dotty-milestone-release.html">Announcing Dotty 0.22.0-RC1 - syntactic enhancements, type-level arithmetic and more</a></div><div><a href="../../../blog/2019/12/20/21th-dotty-milestone-release.html">Announcing Dotty 0.21.0-RC1 - explicit nulls, new syntax for `match` and conditional givens, and more</a></div><div><a href="../../../blog/2019/11/04/20th-dotty-milestone-release.html">Announcing Dotty 0.20.0-RC1 – `with` starting indentation blocks, inline given specializations and more</a></div><div><a href="../../../blog/2019/09/23/19th-dotty-milestone-release.html">Announcing Dotty 0.19.0-RC1 – further refinements of the syntax and the migration to 2.13.1 standard library</a></div><div><a href="../../../blog/2019/08/30/18th-dotty-milestone-release.html">Announcing Dotty 0.18.1-RC1 – switch to the 2.13 standard library, indentation-based syntax and other experiments</a></div><div><a href="../../../blog/2019/07/25/17th-dotty-milestone-release.html">Announcing Dotty 0.17.0-RC1 – new implicit scoping rules and more</a></div><div><a href="../../../blog/2019/06/11/16th-dotty-milestone-release.html">Announcing Dotty 0.16.0-RC3 – the Scala Days 2019 Release</a></div><div><a href="../../../blog/2019/05/23/15th-dotty-milestone-release.html">Announcing Dotty 0.15.0-RC1 – the fully bootstrapped compiler</a></div><div><a href="../../../blog/2019/04/15/14th-dotty-milestone-release.html">Announcing Dotty 0.14.0-RC1 with export, immutable arrays, creator applications and more</a></div><div><a href="../../../blog/2019/03/05/13th-dotty-milestone-release.html">Announcing Dotty 0.13.0-RC1 with Spark support, top level definitions and redesigned implicits</a></div><div><a href="../../../blog/2019/01/21/12th-dotty-milestone-release.html">Announcing Dotty 0.12.0-RC1</a></div><div><a href="../../../blog/2018/11/30/11th-dotty-milestone-release.html">Announcing Dotty 0.11.0-RC1</a></div><div><a href="../../../blog/2018/10/10/10th-dotty-milestone-release.html">Announcing Dotty 0.10.0-RC1</a></div><div><a href="../../../blog/2018/07/06/ninth-dotty-milestone-release.html">Announcing Dotty 0.9.0-RC1</a></div><div><a href="../../../blog/2018/04/27/eighth-dotty-milestone-release.html">Announcing Dotty 0.7.0 and 0.8.0-RC1</a></div><div><a href="../../../blog/2018/03/05/seventh-dotty-milestone-release.html">Announcing Dotty 0.6.0 and 0.7.0-RC1</a></div><div><a href="../../../blog/2017/12/01/fifth-dotty-milestone-release.html">Announcing Dotty 0.5.0-RC1</a></div><div><a href="../../../blog/2017/10/16/fourth-dotty-milestone-release.html">Announcing Dotty 0.4.0-RC1</a></div><div><a href="../../../blog/2017/09/07/third-dotty-milestone-release.html">Announcing Dotty 0.3.0-RC2</a></div><div><a href="../../../blog/2017/07/12/second-dotty-milestone-release.html">Announcing Dotty 0.2.0-RC1, with new optimizations, improved stability and IDE support</a></div><div><a href="../../../blog/2017/05/31/first-dotty-milestone-release.html">Announcing Dotty 0.1.2-RC1, a major step towards Scala 3</a></div><div><a href="../../../blog/2016/12/05/implicit-function-types.html">Implicit Function Types</a></div><div><a href="../../../blog/2016/05/05/multiversal-equality.html">Multiversal Equality for Scala</a></div><div><a href="../../../blog/2016/02/17/scaling-dot-soundness.html">Scaling DOT to Scala - Soundness</a></div><div><a href="../../../blog/2016/02/03/essence-of-scala.html">The Essence of Scala</a></div><div><a href="../../../blog/2016/01/02/new-year-resolutions.html">New Year Resolutions</a></div><div><a href="../../../blog/2015/10/23/dotty-compiler-bootstraps.html">We got liftoff!</a></div></div><div><a href="../../../docs/Usage/index.html">Usage</a><span></span><div><a href="../../../docs/usage/getting-started.html">Getting Started: Users</a></div><div><a href="../../../docs/usage/sbt-projects.html">Using Dotty with sbt</a></div><div><a href="../../../docs/usage/ide-support.html">IDE support for Dotty</a></div><div><a href="../../../docs/usage/worksheet-mode.html">Worksheet mode with Dotty IDE</a></div><div><a href="../../../docs/usage/language-versions.html">Language Versions</a></div><div><a href="../../../docs/usage/cbt-projects.html">Using Dotty with cbt</a></div><div><a href="../../../docs/usage/scala3doc/index.html">Scala3doc</a><span></span><div><a href="../../../docs/usage/scala3doc/blog.html">Built-in blog</a></div><div><a href="../../../docs/usage/scala3doc/specificTags.html">Scala3doc-specific Tags and Features</a></div><div><a href="../../../docs/usage/scala3doc/staticSite.html">Static docucmentation</a></div><div><a href="../../../docs/usage/scala3doc/docComments.html">API Documentation</a></div></div><div><a href="../../../docs/usage/dottydoc.html">Dottydoc [Legacy]</a></div></div><div><a href="../../../docs/Reference/index.html">Reference</a><span></span><div><a href="../../../docs/reference/overview.html">Overview</a></div><div><a href="../../../docs/New Types/index.html">New Types</a><span></span><div><a href="../../../docs/reference/new-types/intersection-types.html">Intersection Types</a></div><div><a href="../../../docs/reference/new-types/union-types.html">Union Types</a></div><div><a href="../../../docs/reference/new-types/type-lambdas.html">Type Lambdas</a></div><div><a href="../../../docs/reference/new-types/match-types.html">Match Types</a></div><div><a href="../../../docs/reference/new-types/dependent-function-types.html">Dependent Function Types</a></div><div><a href="../../../docs/reference/new-types/polymorphic-function-types.html">Polymorphic Function Types</a></div></div><div><a href="../../../docs/Enums/index.html">Enums</a><span></span><div><a href="../../../docs/reference/enums/enums.html">Enumerations</a></div><div><a href="../../../docs/reference/enums/adts.html">Algebraic Data Types</a></div><div><a href="../../../docs/reference/enums/desugarEnums.html">Translation of Enums and ADTs</a></div></div><div><a href="../../../docs/Contextual Abstractions/index.html">Contextual Abstractions</a><span></span><div><a href="../../../docs/reference/contextual/motivation.html">Overview</a></div><div><a href="../../../docs/reference/contextual/givens.html">Given Instances</a></div><div><a href="../../../docs/reference/contextual/using-clauses.html">Using Clauses</a></div><div><a href="../../../docs/reference/contextual/context-bounds.html">Context Bounds</a></div><div><a href="../../../docs/reference/contextual/given-imports.html">Importing Givens</a></div><div><a href="../../../docs/reference/contextual/extension-methods.html">Extension Methods</a></div><div><a href="../../../docs/reference/contextual/type-classes.html">Implementing Type classes</a></div><div><a href="../../../docs/reference/contextual/derivation.html">Type Class Derivation</a></div><div><a href="../../../docs/reference/contextual/multiversal-equality.html">Multiversal Equality</a></div><div><a href="../../../docs/reference/contextual/context-functions.html">Context Functions</a></div><div><a href="../../../docs/reference/contextual/conversions.html">Implicit Conversions</a></div><div><a href="../../../docs/reference/contextual/by-name-context-parameters.html">By-Name Context Parameters</a></div><div><a href="../../../docs/reference/contextual/relationship-implicits.html">Relationship with Scala 2 Implicits</a></div></div><div><a href="../../../docs/Metaprogramming/index.html">Metaprogramming</a><span></span><div><a href="../../../docs/reference/metaprogramming/toc.html">Overview</a></div><div><a href="../../../docs/reference/metaprogramming/inline.html">Inline</a></div><div><a href="../../../docs/reference/metaprogramming/macros.html">Macros</a></div><div><a href="../../../docs/reference/metaprogramming/staging.html">Multi-Stage Programming</a></div><div><a href="../../../docs/reference/metaprogramming/tasty-reflect.html">TASTy Reflect</a></div><div><a href="../../../docs/reference/metaprogramming/tasty-inspect.html">TASTy Inspection</a></div></div><div><a href="../../../docs/Other New Features/index.html">Other New Features</a><span></span><div><a href="../../../docs/reference/other-new-features/trait-parameters.html">Trait Parameters</a></div><div><a href="../../../docs/reference/other-new-features/transparent-traits.html">Transparent Traits</a></div><div><a href="../../../docs/reference/other-new-features/creator-applications.html">Universal Apply Methods</a></div><div><a href="../../../docs/reference/other-new-features/export.html">Export Clauses</a></div><div><a href="../../../docs/reference/other-new-features/opaques.html">Opaque Type Aliases</a></div><div><a href="../../../docs/reference/other-new-features/open-classes.html">Open Classes</a></div><div><a href="../../../docs/reference/other-new-features/parameter-untupling.html">Parameter Untupling</a></div><div><a href="../../../docs/reference/other-new-features/kind-polymorphism.html">Kind Polymorphism</a></div><div><a href="../../../docs/reference/other-new-features/matchable.html">The Matchable Trait</a></div><div><a href="../../../docs/reference/other-new-features/threadUnsafe-annotation.html">threadUnsafe annotation</a></div><div><a href="../../../docs/reference/other-new-features/targetName.html">The @targetName annotation</a></div><div><a href="../../../docs/reference/other-new-features/control-syntax.html">New Control Syntax</a></div><div><a href="../../../docs/reference/other-new-features/indentation.html">Optional Braces</a></div><div><a href="../../../docs/reference/other-new-features/explicit-nulls.html">Explicit Nulls</a></div><div><a href="../../../docs/reference/other-new-features/safe-initialization.html">Safe Initialization</a></div></div><div><a href="../../../docs/Other Changed Features/index.html">Other Changed Features</a><span></span><div><a href="../../../docs/reference/changed-features/numeric-literals.html">Numeric Literals</a></div><div><a href="../../../docs/reference/changed-features/structural-types.html">Programmatic Structural Types</a></div><div><a href="../../../docs/reference/changed-features/operators.html">Rules for Operators</a></div><div><a href="../../../docs/reference/changed-features/wildcards.html">Wildcard Arguments in Types</a></div><div><a href="../../../docs/reference/changed-features/type-checking.html">Changes in Type Checking</a></div><div><a href="../../../docs/reference/changed-features/type-inference.html">Changes in Type Inference</a></div><div><a href="../../../docs/reference/changed-features/implicit-resolution.html">Changes in Implicit Resolution</a></div><div><a href="../../../docs/reference/changed-features/implicit-conversions.html">Implicit Conversions</a></div><div><a href="../../../docs/reference/changed-features/overload-resolution.html">Changes in Overload Resolution</a></div><div><a href="../../../docs/reference/changed-features/match-syntax.html">Match Expressions</a></div><div><a href="../../../docs/reference/changed-features/vararg-patterns.html">Vararg Patterns</a></div><div><a href="../../../docs/reference/changed-features/pattern-bindings.html">Pattern Bindings</a></div><div><a href="../../../docs/reference/changed-features/pattern-matching.html">Option-less pattern matching</a></div><div><a href="../../../docs/reference/changed-features/eta-expansion.html">Automatic Eta Expansion</a></div><div><a href="../../../docs/reference/changed-features/compiler-plugins.html">Changes in Compiler Plugins</a></div><div><a href="../../../docs/reference/changed-features/lazy-vals-init.html">Lazy Vals initialization</a></div><div><a href="../../../docs/reference/changed-features/main-functions.html">Main Methods</a></div></div><div><a href="../../../docs/Dropped Features/index.html">Dropped Features</a><span></span><div><a href="../../../docs/reference/dropped-features/delayed-init.html">Dropped: Delayedinit</a></div><div><a href="../../../docs/reference/dropped-features/macros.html">Dropped: Scala 2 Macros</a></div><div><a href="../../../docs/reference/dropped-features/existential-types.html">Dropped: Existential Types</a></div><div><a href="../../../docs/reference/dropped-features/type-projection.html">Dropped: General Type Projection</a></div><div><a href="../../../docs/reference/dropped-features/do-while.html">Dropped: Do-While</a></div><div><a href="../../../docs/reference/dropped-features/procedure-syntax.html">Dropped: Procedure Syntax</a></div><div><a href="../../../docs/reference/dropped-features/package-objects.html">Dropped: Package Objects</a></div><div><a href="../../../docs/reference/dropped-features/early-initializers.html">Dropped: Early Initializers</a></div><div><a href="../../../docs/reference/dropped-features/class-shadowing.html">Dropped: Class Shadowing</a></div><div><a href="../../../docs/reference/dropped-features/limit22.html">Dropped: Limit 22</a></div><div><a href="../../../docs/reference/dropped-features/xml.html">Dropped: XML Literals</a></div><div><a href="../../../docs/reference/dropped-features/symlits.html">Dropped: Symbol Literals</a></div><div><a href="../../../docs/reference/dropped-features/auto-apply.html">Dropped: Auto-Application</a></div><div><a href="../../../docs/reference/dropped-features/weak-conformance.html">Dropped: Weak Conformance</a></div><div><a href="../../../docs/reference/dropped-features/nonlocal-returns.html">Deprecated: Nonlocal Returns</a></div><div><a href="../../../docs/reference/dropped-features/this-qualifier.html">Dropped: private[this] and protected[this]</a></div></div><div><a href="../../../docs/reference/syntax.html">Scala 3 Syntax Summary</a></div></div><div><a href="../../../docs/Contributing/index.html">Contributing</a><span></span><div><a href="../../../docs/contributing/contribute-knowledge.html">Contributing Knowledge</a></div><div><a href="../../../docs/contributing/getting-started.html">Getting Started</a></div><div><a href="../../../docs/contributing/workflow.html">Workflow</a></div><div><a href="../../../docs/contributing/testing.html">Testing in Dotty</a></div><div><a href="../../../docs/contributing/debugging.html">Debugging Techniques</a></div><div><a href="../../../docs/IDEs and Tools/index.html">IDEs and Tools</a><span></span><div><a href="../../../docs/contributing/tools/mill.html">Basic Operations with Mill</a></div><div><a href="../../../docs/contributing/tools/scalafix.html">Working with Scalafix</a></div></div><div><a href="../../../docs/Procedures/index.html">Procedures</a><span></span><div><a href="../../../docs/contributing/procedures/release.html">Release Procedure</a></div><div><a href="../../../docs/contributing/procedures/vulpix.html">Test Vulpix Framework</a></div></div></div><div><a href="../../../docs/Internals/index.html">Internals</a><span></span><div><a href="../../../docs/internals/backend.html">Backend Internals</a></div><div><a href="../../../docs/internals/classpaths.html">Classpaths</a></div><div><a href="../../../docs/internals/core-data-structures.html">Core Data Structures</a></div><div><a href="../../../docs/internals/contexts.html">Contexts</a></div><div><a href="../../../docs/internals/dotc-scalac.html">Differences between Scalac and Dotty</a></div><div><a href="../../../docs/internals/higher-kinded-v2.html">Higher-Kinded Types in Dotty</a></div><div><a href="../../../docs/internals/overall-structure.html">Dotty Overall Structure</a></div><div><a href="../../../docs/internals/periods.html">Dotc&apos;s concept of time</a></div><div><a href="../../../docs/internals/syntax.html">Scala 3 Syntax Summary</a></div><div><a href="../../../docs/internals/type-system.html">Type System</a></div><div><a href="../../../docs/internals/dotty-internals-1-notes.html">Dotty Internals 1: Trees &amp; Symbols (Meeting Notes)</a></div><div><a href="../../../docs/internals/debug-macros.html">Debug Macros</a></div></div><div><a href="../../../docs/Resources/index.html">Resources</a><span></span><div><a href="../../../docs/resources/talks.html">Talks</a></div></div><div><a href="../../index.html">API</a><span></span><div><a href="../../dotty/tools/tasty.html">dotty.tools.tasty</a></div><div><a href="../../dotty/tools/tasty/util.html">dotty.tools.tasty.util</a></div><div><a href="../index.html">scala</a></div><div><a href="../annotation.html">scala.annotation</a></div><div><a href="../annotation/meta.html">scala.annotation.meta</a></div><div><a href="../annotation/unchecked.html">scala.annotation.unchecked</a></div><div><a href="../beans.html">scala.beans</a></div><div><a href="../collection.html">scala.collection</a></div><div><a href="../collection/concurrent.html">scala.collection.concurrent</a></div><div><a href="../collection/convert.html">scala.collection.convert</a></div><div><a href="../collection/generic.html">scala.collection.generic</a></div><div><a href="../collection/immutable.html">scala.collection.immutable</a></div><div><a href="../collection/mutable.html">scala.collection.mutable</a></div><div><a href="../compat.html">scala.compat</a></div><div><a href="../compiletime.html">scala.compiletime</a></div><div><a href="../compiletime/ops.html">scala.compiletime.ops</a></div><div><a href="../compiletime/testing.html">scala.compiletime.testing</a></div><div><a href="../concurrent.html">scala.concurrent</a></div><div><a href="../concurrent/duration.html">scala.concurrent.duration</a></div><div><a href="../deriving.html">scala.deriving</a></div><div><a href="../io.html">scala.io</a></div><div><a href="../jdk.html">scala.jdk</a></div><div><a href="../jdk/javaapi.html">scala.jdk.javaapi</a></div><div><a href="../math.html">scala.math</a></div><div><a href="../quoted.html">scala.quoted</a></div><div><a href="../quoted/runtime.html">scala.quoted.runtime</a></div><div><a href="../ref.html">scala.ref</a></div><div><a href="../reflect.html">scala.reflect</a></div><div><a href="../reflect/macros.html">scala.reflect.macros</a></div><div><a href="../runtime.html">scala.runtime</a></div><div><a href="../runtime/java8.html">scala.runtime.java8</a></div><div><a href="../sys.html">scala.sys</a></div><div><a href="../sys/process.html">scala.sys.process</a></div><div><a href="../util.html">scala.util</a></div><div><a href="control.html">scala.util.control</a></div><div><a href="hashing.html">scala.util.hashing</a></div><div><a href="matching.html">scala.util.matching</a></div></div></div></nav></div><div id="main"><div id="leftToggler"><span class="icon-toggler"></span></div><div id="searchBar"></div><main>
  <div id="content" pageIds="scala.util.Using$////PointingToDeclaration/Using$scala.util.Using$//[][origin:/__w/dotty/dotty/stdlib-bootstrapped/../out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/classes/scala/util/Using.class]/-1753285236">
    <div class="breadcrumbs"><a href="../../../docs/index.html">Scala 3</a>/<a href="../../index.html">API</a>/<a href="../util.html">scala.util</a>/<a href="">Using</a></div>
<div><div><h1>Using</h1><div class="header monospace"><span class="annotations monospace"></span><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">object </span></span><a href="" class="documentableName ">Using</a><span class="signature"></span></div><div class="documentableBrief doc">
  <div class="block">A utility for performing automatic resource management. It can be used to perform an
operation using resources, after which it releases the resources in reverse order
of their creation.</div>
</div><div class="cover"><div class="doc">
  <h2 class="">Usage</h2>

  <div class="block">There are multiple ways to automatically manage resources with <code>Using</code>. If you only need
to manage a single resource, the <a href="#"><code>apply</code></a> method is easiest; it wraps the
resource opening, operation, and resource releasing in a <code>Try</code>.</div>

  <div class="block">Example:</div>

  <div class="sample-container">
    <pre><code class=" language-scala" theme="idea">import java.io.{BufferedReader, FileReader}
import scala.util.{Try, Using}

val lines: Try[Seq[String]] =
 Using(new BufferedReader(new FileReader(&quot;file.txt&quot;))) { reader =&gt;
   Iterator.continually(reader.readLine()).takeWhile(_ != null).toSeq
 }</code></pre>
  </div>

  <div class="block">If you need to manage multiple resources, <a href="#"><code>Using.Manager</code></a> should
be used. It allows the managing of arbitrarily many resources, whose creation, use, and
release are all wrapped in a <code>Try</code>.</div>

  <div class="block">Example:</div>

  <div class="sample-container">
    <pre><code class=" language-scala" theme="idea">import java.io.{BufferedReader, FileReader}
import scala.util.{Try, Using}

val lines: Try[Seq[String]] = Using.Manager { use =&gt;
 val r1 = use(new BufferedReader(new FileReader(&quot;file1.txt&quot;)))
 val r2 = use(new BufferedReader(new FileReader(&quot;file2.txt&quot;)))
 val r3 = use(new BufferedReader(new FileReader(&quot;file3.txt&quot;)))
 val r4 = use(new BufferedReader(new FileReader(&quot;file4.txt&quot;)))

 // use your resources here
 def lines(reader: BufferedReader): Iterator[String] =
   Iterator.continually(reader.readLine()).takeWhile(_ != null)

 (lines(r1) ++ lines(r2) ++ lines(r3) ++ lines(r4)).toList
}</code></pre>
  </div>

  <div class="block">If you wish to avoid wrapping management and operations in a <code>Try</code>, you can use
<a href="#"><code>Using.resource</code></a>, which throws any exceptions that occur.</div>

  <div class="block">Example:</div>

  <div class="sample-container">
    <pre><code class=" language-scala" theme="idea">import java.io.{BufferedReader, FileReader}
import scala.util.Using

val lines: Seq[String] =
 Using.resource(new BufferedReader(new FileReader(&quot;file.txt&quot;))) { reader =&gt;
   Iterator.continually(reader.readLine()).takeWhile(_ != null).toSeq
 }</code></pre>
  </div>

  <h2 class="">Suppression Behavior</h2>

  <div class="block">If two exceptions are thrown (e.g., by an operation and closing a resource),
one of them is re-thrown, and the other is
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html">added to it as a suppressed exception</a>.
If the two exceptions are of different 'severities' (see below), the one of a higher
severity is re-thrown, and the one of a lower severity is added to it as a suppressed
exception. If the two exceptions are of the same severity, the one thrown first is
re-thrown, and the one thrown second is added to it as a suppressed exception.
If an exception is a <a href="control/ControlThrowable.html"><code>ControlThrowable</code></a>, or
if it does not support suppression (see
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html"><code>Throwable</code>'s constructor with an <code>enableSuppression</code> parameter</a>),
an exception that would have been suppressed is instead discarded.</div>

  <div class="block">Exceptions are ranked from highest to lowest severity as follows:</div>

  <ul>
    <li>
      <div class="block"><code>java.lang.VirtualMachineError</code></div>
    </li>
    <li>
      <div class="block"><code>java.lang.LinkageError</code></div>
    </li>
    <li>
      <div class="block"><code>java.lang.InterruptedException</code> and <code>java.lang.ThreadDeath</code></div>
    </li>
    <li>
      <div class="block"><span data-unresolved-link="scala.util.control.NonFatal////PointingToDeclaration/NonFatalscala.util.control.NonFatal//[][origin:/__w/dotty/dotty/stdlib-bootstrapped/../out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/classes/scala/util/control/NonFatal.class]">fatal exceptions</span>, excluding <code>scala.util.control.ControlThrowable</code></div>
    </li>
    <li>
      <div class="block"><code>scala.util.control.ControlThrowable</code></div>
    </li>
    <li>
      <div class="block">all other exceptions</div>
    </li>
  </ul>

  <div class="block">When more than two exceptions are thrown, the first two are combined and
re-thrown as described above, and each successive exception thrown is combined
as it is thrown.</div>
</div><dl class="attributes"><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L104">(source)</a></dd></dl></div><div class="tabs single"><div class="names"><button data-togglable="graph" class="tab showGraph">Graph</button><button data-togglable="supertypes" class="tab ">Supertypes</button></div><div class="contents"><div data-togglable="graph" class="tab showGraph"><div id="inheritance-diagram" class="diagram-class showGraph"><input value="Reset zoom" type="button" class="btn" onclick="zoomOut()"></input><svg id="graph"></svg><script type="text/dot" id="dot"> digraph g {
 node0 [id=node0, label="<span style=\"color: #FFFFFF;\">object <a href=\"\">Using</a></span>", style="fill: #285577;"];
node1 [id=node1, label="<span style=\"color: #FFFFFF;\">class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html\">Object</a></span>", style="fill: #45AD7D;"];


 node0 -> node1;

}
</script></div></div><div data-togglable="supertypes" class="tab "><div class="symbol monospace"><div>class <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a></div><div>trait <span data-unresolved-link="">Matchable</span></div><div>class <span data-unresolved-link="">Any</span></div></div></div></div></div><div class="documentableFilter"><div class="filterUpperContainer"><button class="filterToggleButton" data-test-id="filterToggleButton">
          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button><input class="filterableInput" placeholder="Filter all members" data-test-id="filterBarInput"></input></div><div class="filterLowerContainer"></div></div><div class="membersList"><div class="tabs"><div class="names"><button data-togglable="Type members" class="tab selected">Type members</button><button data-togglable="Value members" class="tab selected">Value members</button></div><div class="contents"><div data-togglable="Type members" class="tab selected"><h2 data-togglable="Type members">Type members</h2><div class="documentableList"><h3 class="groupHeader">Classlikes</h3><div class="documentableElement" data-f-keywords="final"><a href="Using$$Manager.html" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers">final </span><span class="kind">class </span></span><a href="Using$$Manager.html" class="documentableName ">Manager</a><span class="signature"></span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc">
  <div class="block">A resource manager.</div>
</div><div class="cover"><div class="doc">
  <div class="block">Resources can be registered with the manager by calling <a href="Using$$Manager.html#acquire"><code>acquire</code></a>;
such resources will be released in reverse order of their acquisition
when the manager is closed, regardless of any exceptions thrown
during use.</div>

  <div class="block">See the main doc for <a href=""><code>Using</code></a> for full details of
                           suppression behavior.
</div>
</div><dl class="attributes"><dt>Note</dt><dd><div><div>
  <div class="block">
    <div class="block">It is recommended for API designers to require an implicit <code>Manager</code>
     for the creation of custom resources, and to call <code>acquire</code> during those
     resources' construction. Doing so guarantees that the resource must be
     automatically managed, and makes it impossible to forget to do so.
     Example:</div>
    <div class="sample-container">
      <pre><code class=" language-scala" theme="idea">class SafeFileReader(file: File)(implicit manager: Using.Manager)
  extends BufferedReader(new FileReader(file)) {
  def this(fileName: String)(implicit manager: Using.Manager) = this(new File(fileName))
  manager.acquire(this)
}</code></pre>
    </div>
  </div>
</div></div></dd><dt>Companion</dt><dd><a href="Using$$Manager$.html">object</a></dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L141">(source)</a></dd></dl></div></div></div></div></div><div class="documentableElement"><a href="Using$$Manager$.html" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">object </span></span><a href="Using$$Manager$.html" class="documentableName ">Manager</a><span class="signature"></span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc"></div><div class="cover"><div class="doc"></div><dl class="attributes"><dt>Companion</dt><dd><a href="Using$$Manager.html">class</a></dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L192">(source)</a></dd></dl></div></div></div></div></div><div class="documentableElement"><a href="Using$$Releasable.html" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">trait </span></span><a href="Using$$Releasable.html" class="documentableName ">Releasable</a><span class="signature">[-R]</span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc">
  <div class="block">A type class describing how to release a particular type of resource.</div>
</div><div class="cover"><div class="doc">
  <div class="block">A resource is anything which needs to be released, closed, or otherwise cleaned up
in some way after it is finished being used, and for which waiting for the object's
garbage collection to be cleaned up would be unacceptable. For example, an instance of
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html">java.io.OutputStream</a> would be considered a resource, because it is important to close
the stream after it is finished being used.</div>

  <div class="block">An instance of <code>Releasable</code> is needed in order to automatically manage a resource
with <a href=""><code>Using</code></a>. An implicit instance is provided for all types extending
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">java.lang.AutoCloseable</a>.
</div>
</div><dl class="attributes"><dt>Type Params</dt><dd><dl class="attributes"><dt>R</dt><dd>
  <div class="block">the type of the resource</div>
</dd></dl></dd><dt>Companion</dt><dd><a href="Using$$Releasable$.html">object</a></dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L383">(source)</a></dd></dl></div></div></div></div></div><div class="documentableElement"><a href="Using$$Releasable$.html" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">object </span></span><a href="Using$$Releasable$.html" class="documentableName ">Releasable</a><span class="signature"></span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc"></div><div class="cover"><div class="doc"></div><dl class="attributes"><dt>Companion</dt><dd><a href="Using$$Releasable.html">class</a></dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L388">(source)</a></dd></dl></div></div></div></div></div></div></div><div data-togglable="Value members" class="tab selected"><h2 data-togglable="Value members">Value members</h2><div class="documentableList"><h3 class="groupHeader">Methods</h3><div class="documentableElement" id="apply"><a href="#apply" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">def </span></span><a href="#apply" class="documentableName ">apply</a><span class="signature">[R, A](resource: => <a href="#R">R</a>)(f: <a href="#R">R</a> => <a href="#A">A</a>)(evidence$1: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R">R</a>]): <a href="Try.html">Try</a>[<a href="#A">A</a>]</span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc">
  <div class="block">Performs an operation using a resource, and then releases the resource,
even if the operation throws an exception.</div>
</div><div class="cover"><div class="doc">
  <div class="block">See the main doc for <a href=""><code>Using</code></a> for full details of
                           suppression behavior.
</div>
</div><dl class="attributes"><dt>Returns</dt><dd>
  <div class="block">a <a href="Try.html">Try</a> containing an exception if one or more were thrown,
       or the result of the operation if no exceptions were thrown</div>
</dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L113">(source)</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="resource"><a href="#resource" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">def </span></span><a href="#resource" class="documentableName ">resource</a><span class="signature">[R, A](resource: <a href="#R">R</a>)(body: <a href="#R">R</a> => <a href="#A">A</a>)(releasable: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R">R</a>]): <a href="#A">A</a></span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc">
  <div class="block">Performs an operation using a resource, and then releases the resource,
even if the operation throws an exception. This method behaves similarly
to Java's try-with-resources.</div>
</div><div class="cover"><div class="doc">
  <div class="block">See the main doc for <a href=""><code>Using</code></a> for full details of
                           suppression behavior.
</div>
</div><dl class="attributes"><dt>Type Params</dt><dd><dl class="attributes"><dt>A</dt><dd>
  <div class="block">the return type of the operation</div>
</dd><dt>R</dt><dd>
  <div class="block">the type of the resource</div>
</dd></dl></dd><dt>Value Params</dt><dd><dl class="attributes"><dt>body</dt><dd>
  <div class="block">the operation to perform with the resource</div>
</dd><dt>resource</dt><dd>
  <div class="block">the resource</div>
</dd></dl></dd><dt>Returns</dt><dd>
  <div class="block">the result of the operation, if neither the operation nor
       releasing the resource throws</div>
</dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L256">(source)</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="resources"><a href="#resources" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">def </span></span><a href="#resources" class="documentableName ">resources</a><span class="signature">[R1, R2, A](resource1: <a href="#R1">R1</a>, resource2: => <a href="#R2">R2</a>)(body: (<a href="#R1">R1</a>, <a href="#R2">R2</a>) => <a href="#A">A</a>)(evidence$2: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R1">R1</a>], evidence$3: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R2">R2</a>]): <a href="#A">A</a></span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc">
  <div class="block">Performs an operation using two resources, and then releases the resources
in reverse order, even if the operation throws an exception. This method
behaves similarly to Java's try-with-resources.</div>
</div><div class="cover"><div class="doc">
  <div class="block">See the main doc for <a href=""><code>Using</code></a> for full details of
                           suppression behavior.
</div>
</div><dl class="attributes"><dt>Type Params</dt><dd><dl class="attributes"><dt>A</dt><dd>
  <div class="block">the return type of the operation</div>
</dd><dt>R1</dt><dd>
  <div class="block">the type of the first resource</div>
</dd><dt>R2</dt><dd>
  <div class="block">the type of the second resource</div>
</dd></dl></dd><dt>Value Params</dt><dd><dl class="attributes"><dt>body</dt><dd>
  <div class="block">the operation to perform using the resources</div>
</dd><dt>resource1</dt><dd>
  <div class="block">the first resource</div>
</dd><dt>resource2</dt><dd>
  <div class="block">the second resource</div>
</dd></dl></dd><dt>Returns</dt><dd>
  <div class="block">the result of the operation, if neither the operation nor
       releasing the resources throws</div>
</dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L291">(source)</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="resources"><a href="#resources" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">def </span></span><a href="#resources" class="documentableName ">resources</a><span class="signature">[R1, R2, R3, A](resource1: <a href="#R1">R1</a>, resource2: => <a href="#R2">R2</a>, resource3: => <a href="#R3">R3</a>)(body: (<a href="#R1">R1</a>, <a href="#R2">R2</a>, <a href="#R3">R3</a>) => <a href="#A">A</a>)(evidence$4: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R1">R1</a>], evidence$5: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R2">R2</a>], evidence$6: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R3">R3</a>]): <a href="#A">A</a></span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc">
  <div class="block">Performs an operation using three resources, and then releases the resources
in reverse order, even if the operation throws an exception. This method
behaves similarly to Java's try-with-resources.</div>
</div><div class="cover"><div class="doc">
  <div class="block">See the main doc for <a href=""><code>Using</code></a> for full details of
                           suppression behavior.
</div>
</div><dl class="attributes"><dt>Type Params</dt><dd><dl class="attributes"><dt>A</dt><dd>
  <div class="block">the return type of the operation</div>
</dd><dt>R1</dt><dd>
  <div class="block">the type of the first resource</div>
</dd><dt>R2</dt><dd>
  <div class="block">the type of the second resource</div>
</dd><dt>R3</dt><dd>
  <div class="block">the type of the third resource</div>
</dd></dl></dd><dt>Value Params</dt><dd><dl class="attributes"><dt>body</dt><dd>
  <div class="block">the operation to perform using the resources</div>
</dd><dt>resource1</dt><dd>
  <div class="block">the first resource</div>
</dd><dt>resource2</dt><dd>
  <div class="block">the second resource</div>
</dd><dt>resource3</dt><dd>
  <div class="block">the third resource</div>
</dd></dl></dd><dt>Returns</dt><dd>
  <div class="block">the result of the operation, if neither the operation nor
       releasing the resources throws</div>
</dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L319">(source)</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="resources"><a href="#resources" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><span class="modifiers"><span class="other-modifiers"> </span><span class="kind">def </span></span><a href="#resources" class="documentableName ">resources</a><span class="signature">[R1, R2, R3, R4, A](resource1: <a href="#R1">R1</a>, resource2: => <a href="#R2">R2</a>, resource3: => <a href="#R3">R3</a>, resource4: => <a href="#R4">R4</a>)(body: (<a href="#R1">R1</a>, <a href="#R2">R2</a>, <a href="#R3">R3</a>, <a href="#R4">R4</a>) => <a href="#A">A</a>)(evidence$7: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R1">R1</a>], evidence$8: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R2">R2</a>], evidence$9: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R3">R3</a>], evidence$10: <a href="Using$$Releasable.html">Releasable</a>[<a href="#R4">R4</a>]): <a href="#A">A</a></span></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="documentableBrief"><div class="documentableBrief doc">
  <div class="block">Performs an operation using four resources, and then releases the resources
in reverse order, even if the operation throws an exception. This method
behaves similarly to Java's try-with-resources.</div>
</div><div class="cover"><div class="doc">
  <div class="block">See the main doc for <a href=""><code>Using</code></a> for full details of
                           suppression behavior.
</div>
</div><dl class="attributes"><dt>Type Params</dt><dd><dl class="attributes"><dt>A</dt><dd>
  <div class="block">the return type of the operation</div>
</dd><dt>R1</dt><dd>
  <div class="block">the type of the first resource</div>
</dd><dt>R2</dt><dd>
  <div class="block">the type of the second resource</div>
</dd><dt>R3</dt><dd>
  <div class="block">the type of the third resource</div>
</dd><dt>R4</dt><dd>
  <div class="block">the type of the fourth resource</div>
</dd></dl></dd><dt>Value Params</dt><dd><dl class="attributes"><dt>body</dt><dd>
  <div class="block">the operation to perform using the resources</div>
</dd><dt>resource1</dt><dd>
  <div class="block">the first resource</div>
</dd><dt>resource2</dt><dd>
  <div class="block">the second resource</div>
</dd><dt>resource3</dt><dd>
  <div class="block">the third resource</div>
</dd><dt>resource4</dt><dd>
  <div class="block">the fourth resource</div>
</dd></dl></dd><dt>Returns</dt><dd>
  <div class="block">the result of the operation, if neither the operation nor
       releasing the resources throws</div>
</dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-RC1/src_managed/main/scala-library-src/scala/util/Using.scala#L352">(source)</a></dd></dl></div></div></div></div></div></div></div></div></div></div></div></div>  </div>
</main><footer><span class="go-to-top-icon"><a href="#container"><span class="icon-vertical_align_top"></span>&nbsp;Back to top</a></span>Generated by&nbsp;<a href="https://github.com/lampepfl/dotty/tree/master/scala3doc"><img src="../../../images/scala3doc_logo.svg" alt="Scala3doc" class="scala3doc_logo"></img></a></footer></div></div><script type="text/javascript" src="../../../scripts/pages.js"></script><script type="text/javascript" src="../../../scripts/main.js"></script></body></html>
