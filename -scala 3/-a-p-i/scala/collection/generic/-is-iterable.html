<html><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><title>IsIterable</title><link rel="shortcut icon" type="image/x-icon" href="../../../../../favicon.ico"></link><script type="text/javascript" src="../../../../../scripts/sourceset_dependencies.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/clipboard.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/platform-content-handler.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/main.js" defer="true"></script><link rel="stylesheet" href="../../../../../styles/nord-light.css"></link><link rel="stylesheet" href="../../../../../styles/scalastyle.css"></link><link rel="stylesheet" href="../../../../../styles/dotty-icons.css"></link><link rel="stylesheet" href="../../../../../styles/diagram.css"></link><link rel="stylesheet" href="../../../../../styles/filter-bar.css"></link><link rel="stylesheet" href="../../../../../styles/search-bar.css"></link><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/diagram.js" defer="true"></script><link rel="stylesheet" href="../../../../../styles/filter-bar.css"></link><script type="text/javascript" src="../../../../../hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/ux.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/common/component.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/data.js" defer="true"></script><script type="text/javascript" src="../../../../../scripts/fast-navigation-loader.js" defer="true"></script><script>var pathToRoot = "../../../../../";</script></head><body><div id="container"><div id="leftColumn"><div id="logo"><span><img src="../../../../../project-logo/logo.svg"></img></span><span><div class="projectName">Scala 3</div></span><span><div class="projectVersion">3.0.0-M3-bin-20201202-11f53c7-NIGHTLY</div></span></div><div id="paneSearch"></div><nav id="sideMenu"></nav></div><div id="main"><div id="leftToggler"><span class="icon-toggler"></span></div><div id="searchBar"></div><main>
  <div id="content" pageIds="scala.collection.generic/IsIterable///PointingToDeclaration/IsIterablescala.collection.generic.IsIterable//[]/-892918555">
    <div class="breadcrumbs"><a href="../../../../../docs/index.html">Scala 3</a>/<a href="../../../../../api/index.html">API</a>/<a href="../../index.html">scala</a>/<a href="../index.html">collection</a>/<a href="index.html">generic</a>/<a href="-is-iterable.html">IsIterable</a></div>
    <div class="cover ">
      <h1 class="">IsIterable</h1>
      <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable="Scala 3/main"><div class="symbol monospace"> trait <a href="-is-iterable.html">IsIterable</a>[Repr] extends <a href="-is-iterable-once.html">IsIterableOnce</a>[<span data-unresolved-link="scala.collection.generic/IsIterable///PointingToGenericParameters(0)/Reprscala.collection.generic.IsIterable.Repr//[]">Repr</span>]</div><div class="block borderless"><div class="block borderless"><div class="block borderless"><p class="paragraph"><p class="paragraph">A trait which can be used to avoid code duplication when defining extension
methods that should be applicable both to existing Scala collections (i.e.,
types extending <code>Iterable</code>) as well as other (potentially user-defined)
types that could be converted to a Scala collection type. This trait
makes it possible to treat Scala collections and types that can be implicitly
converted to a collection type uniformly. For example, one can provide
extension methods that work both on collection types and on <code>String</code>s (<code>String</code>s
do not extend <code>Iterable</code>, but can be converted to <code>Iterable</code>)</p><p class="paragraph"><code>IsIterable</code> provides three members:</p><p class="paragraph">1. type member <code>A</code>, which represents the element type of the target <code>Iterable[A]</code>
1. type member <code>C</code>, which represents the type returned by transformation operations that preserve the collectionâ€™s elements type
1. method <code>apply</code>, which provides a way to convert between the type we wish to add extension methods to, <code>Repr</code>, and <code>IterableOps[A, Iterable, C]</code>.</p><h3 class="">Usage</h3><p class="paragraph">One must provide <code>IsIterable</code> as an implicit parameter type of an implicit
conversion. Its usage is shown below. Our objective in the following example
is to provide a generic extension method <code>mapReduce</code> to any type that extends
or can be converted to <code>Iterable</code>. In our example, this includes
<code>String</code>.</p><div class="sample-container"><pre><code class=" language-scala" theme="idea">  import scala.collection.{Iterable, IterableOps}
  import scala.collection.generic.IsIterable

  class ExtensionMethods[Repr, I &lt;: IsIterable[Repr]](coll: Repr, it: I) {
    def mapReduce[B](mapper: it.A =&gt; B)(reducer: (B, B) =&gt; B): B = {
      val iter = it(coll).iterator
      var res = mapper(iter.next())
      while (iter.hasNext)
        res = reducer(res, mapper(iter.next()))
      res
    }
  }

  implicit def withExtensions[Repr](coll: Repr)(implicit it: IsIterable[Repr]): ExtensionMethods[Repr, it.type] =
    new ExtensionMethods(coll, it)

// See it in action!
List(1, 2, 3).mapReduce(_ * 2)(_ + _) // res0: Int = 12
&quot;Yeah, well, you know, that's just, like, your opinion, man.&quot;.mapReduce(x =&gt; 1)(_ + _) // res1: Int = 59</code></pre></div><p class="paragraph">Here, we begin by creating a class <code>ExtensionMethods</code> which contains our
<code>mapReduce</code> extension method.</p><p class="paragraph">Note that <code>ExtensionMethods</code> takes a constructor argument <code>coll</code> of type <code>Repr</code>, where
<code>Repr</code> represents (typically) the collection type, and an argument <code>it</code> of a subtype of <code>IsIterable[Repr]</code>.
The body of the method starts by converting the <code>coll</code> argument to an <code>IterableOps</code> in order to
call the <code>iterator</code> method on it.
The remaining of the implementation is straightforward.</p><p class="paragraph">The <code>withExtensions</code> implicit conversion makes the <code>mapReduce</code> operation available
on any type <code>Repr</code> for which it exists an implicit <code>IsIterable[Repr]</code> instance.
Note how we keep track of the precise type of the implicit <code>it</code> argument by using the
<code>it.type</code> singleton type, rather than the wider <code>IsIterable[Repr]</code> type. We do that
so that the information carried by the type members <code>A</code> and <code>C</code> of the <code>it</code> argument
is not lost.</p><p class="paragraph">When the <code>mapReduce</code> method is called on some type of which it is not
a member, implicit search is triggered. Because implicit conversion
<code>withExtensions</code> is generic, it will be applied as long as an implicit
value of type <code>IsIterable[Repr]</code> can be found. Given that the
<code>IsIterable</code> companion object contains implicit members that return values of type
<code>IsIterable</code>, this requirement is typically satisfied, and the chain
of interactions described in the previous paragraph is set into action.
(See the <code>IsIterable</code> companion object, which contains a precise
specification of the available implicits.)</p><p class="paragraph">Note: Currently, it's not possible to combine the implicit conversion and
the class with the extension methods into an implicit class due to
limitations of type inference.</p><h3 class="">Implementing <code>IsIterable</code> for New Types</h3><p class="paragraph">One must simply provide an implicit value of type <code>IsIterable</code>
specific to the new type, or an implicit conversion which returns an
instance of <code>IsIterable</code> specific to the new type.</p><p class="paragraph">Below is an example of an implementation of the <code>IsIterable</code> trait
where the <code>Repr</code> type is <code>Range</code>.</p><div class="sample-container"><pre><code class=" language-scala" theme="idea">implicit val rangeRepr: IsIterable[Range] { type A = Int; type C = IndexedSeq[Int] } =
 new IsIterable[Range] {
   type A = Int
   type C = IndexedSeq[Int]
   def apply(coll: Range): IterableOps[Int, IndexedSeq, IndexedSeq[Int]] = coll
 }</code></pre></div><p class="paragraph">(Note that in practice the <code>IsIterable[Range]</code> instance is already provided by
the standard library, and it is defined as an <code>IsSeq[Range]</code> instance)
</p></p></div></div><dl class="attributes"><dt>Companion</dt><dd><a href="-is-iterable$.html">object</a></dd><dt>Source</dt><dd><a href="https://github.com/lampepfl/dotty/blob/master/out/bootstrap/stdlib-bootstrapped/scala-3.0.0-M3/src_managed/main/scala-library-src/scala/collection/generic/IsIterable.scala#L112">(source)</a></dd></dl></div></div></div>
    </div>
<div class="documentableFilter"><div class="filterUpperContainer"><button class="filterToggleButton" data-test-id="filterToggleButton">
          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button><input class="filterableInput" placeholder="Filter all members" data-test-id="filterBarInput"></input></div><div class="filterLowerContainer"></div></div>    <div class="tabbedcontent">
      <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="Type members">Type members</button><button class="section-tab" data-togglable="Methods">Methods</button><button class="section-tab" data-togglable="Value members">Value members</button><button class="section-tab" data-togglable="Linear supertypes">Linear supertypes</button><button class="section-tab" data-togglable="Known subtypes">Known subtypes</button><button class="section-tab" data-togglable="Type hierarchy">Type hierarchy</button></div>
      <div class="tabs-section-body">
        <h3 class="tabbedcontent">Type members</h3>
        <div data-togglable="Type members"><div class="documentableList" data-test-id="definitionList"><h3 class="documentableHeader">Types</h3><div class="documentableElement"><div class="annotations monospace"></div><div><a href="#" class="documentableAnchor">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="darkgray" xmlns="http://www.w3.org/2000/svg">
      <path d="M21.2496 5.3C20.3496 4.5 19.2496 4 18.0496 4C16.8496 4 15.6496 4.5 14.8496 5.3L10.3496 9.8L11.7496 11.2L16.2496 6.7C17.2496 5.7 18.8496 5.7 19.8496 6.7C20.8496 7.7 20.8496 9.3 19.8496 10.3L15.3496 14.8L16.7496 16.2L21.2496 11.7C22.1496 10.8 22.5496 9.7 22.5496 8.5C22.5496 7.3 22.1496 6.2 21.2496 5.3Z"></path>
      <path d="M8.35 16.7998C7.35 17.7998 5.75 17.7998 4.75 16.7998C3.75 15.7998 3.75 14.1998 4.75 13.1998L9.25 8.6998L7.85 7.2998L3.35 11.7998C1.55 13.5998 1.55 16.3998 3.35 18.1998C4.25 19.0998 5.35 19.4998 6.55 19.4998C7.75 19.4998 8.85 19.0998 9.75 18.1998L14.25 13.6998L12.85 12.2998L8.35 16.7998Z"></path>
    </svg>
  </a><span class="modifiers monospace"><span class="other-modifiers"> </span><span class="kind">type </span></span><span data-unresolved-link="scala.collection.generic/IsIterable///PointingToGenericParameters(1)/Cscala.collection.generic.IsIterable.C//[]" class="documentableName monospace">C</span><span class="signature monospace"></span><div><div class="originInfo"></div><div class="documentableBrief">
  <p class="paragraph">The type returned by transformation operations that preserve the same elements
type (e.g.</p>
</div></div></div></div></div><div class="documentableList" data-test-id="definitionList"><h3 class="documentableHeader">Inherited types</h3><div class="documentableElement" data-f-inherited="IsIterableOnce"><div class="annotations monospace"></div><div><a href="#" class="documentableAnchor">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="darkgray" xmlns="http://www.w3.org/2000/svg">
      <path d="M21.2496 5.3C20.3496 4.5 19.2496 4 18.0496 4C16.8496 4 15.6496 4.5 14.8496 5.3L10.3496 9.8L11.7496 11.2L16.2496 6.7C17.2496 5.7 18.8496 5.7 19.8496 6.7C20.8496 7.7 20.8496 9.3 19.8496 10.3L15.3496 14.8L16.7496 16.2L21.2496 11.7C22.1496 10.8 22.5496 9.7 22.5496 8.5C22.5496 7.3 22.1496 6.2 21.2496 5.3Z"></path>
      <path d="M8.35 16.7998C7.35 17.7998 5.75 17.7998 4.75 16.7998C3.75 15.7998 3.75 14.1998 4.75 13.1998L9.25 8.6998L7.85 7.2998L3.35 11.7998C1.55 13.5998 1.55 16.3998 3.35 18.1998C4.25 19.0998 5.35 19.4998 6.55 19.4998C7.75 19.4998 8.85 19.0998 9.75 18.1998L14.25 13.6998L12.85 12.2998L8.35 16.7998Z"></path>
    </svg>
  </a><span class="modifiers monospace"><span class="other-modifiers"> </span><span class="kind">type </span></span><span data-unresolved-link="scala.collection.generic/IsIterableOnce///PointingToGenericParameters(1)/Ascala.collection.generic.IsIterableOnce.A//[]" class="documentableName monospace">A</span><span class="signature monospace"></span><div><div class="originInfo"></div><div class="documentableBrief">
  <p class="paragraph">The type of elements we can traverse over (e.g.</p>
</div></div></div></div></div></div>
        <h3 class="tabbedcontent">Methods</h3>
        <div data-togglable="Methods"><div class="documentableList" data-test-id="definitionList"><h3 class="documentableHeader">Defined methods</h3><div class="documentableElement"><div class="annotations monospace"></div><div><a href="-is-iterable/apply.html" class="documentableAnchor">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="darkgray" xmlns="http://www.w3.org/2000/svg">
      <path d="M21.2496 5.3C20.3496 4.5 19.2496 4 18.0496 4C16.8496 4 15.6496 4.5 14.8496 5.3L10.3496 9.8L11.7496 11.2L16.2496 6.7C17.2496 5.7 18.8496 5.7 19.8496 6.7C20.8496 7.7 20.8496 9.3 19.8496 10.3L15.3496 14.8L16.7496 16.2L21.2496 11.7C22.1496 10.8 22.5496 9.7 22.5496 8.5C22.5496 7.3 22.1496 6.2 21.2496 5.3Z"></path>
      <path d="M8.35 16.7998C7.35 17.7998 5.75 17.7998 4.75 16.7998C3.75 15.7998 3.75 14.1998 4.75 13.1998L9.25 8.6998L7.85 7.2998L3.35 11.7998C1.55 13.5998 1.55 16.3998 3.35 18.1998C4.25 19.0998 5.35 19.4998 6.55 19.4998C7.75 19.4998 8.85 19.0998 9.75 18.1998L14.25 13.6998L12.85 12.2998L8.35 16.7998Z"></path>
    </svg>
  </a><span class="modifiers monospace"><span class="other-modifiers"> </span><span class="kind">def </span></span><a href="-is-iterable/apply.html" class="documentableName monospace">apply</a><span class="signature monospace">(coll: <span data-unresolved-link="scala.collection.generic/IsIterable///PointingToGenericParameters(0)/Reprscala.collection.generic.IsIterable.Repr//[]">Repr</span>): <a href="../-iterable-ops.html">IterableOps</a>[<span data-unresolved-link="scala.collection.generic/IsIterableOnce///PointingToGenericParameters(1)/Ascala.collection.generic.IsIterableOnce.A//[]">A</span>, [A] =>> <a href="../-iterable.html">Iterable</a>[A], <span data-unresolved-link="scala.collection.generic/IsIterable///PointingToGenericParameters(1)/Cscala.collection.generic.IsIterable.C//[]">C</span>]</span><div><div class="originInfo"></div><div class="documentableBrief">
  <p class="paragraph">A conversion from the type <code>Repr</code> to <code>IterableOps[A, Iterable, C]</code></p>
</div></div></div></div></div></div>
        <h3 class="tabbedcontent">Value members</h3>
        <div data-togglable="Value members"><div class="documentableList" data-test-id="definitionList"><h3 class="documentableHeader">Defined value members</h3><div class="documentableElement" data-f-keywords="override"><div class="annotations monospace">@<a href="../../deprecated.html">deprecated</a>("'conversion' is now a method named 'apply'", "2.13.0") </div><div><a href="#" class="documentableAnchor">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="darkgray" xmlns="http://www.w3.org/2000/svg">
      <path d="M21.2496 5.3C20.3496 4.5 19.2496 4 18.0496 4C16.8496 4 15.6496 4.5 14.8496 5.3L10.3496 9.8L11.7496 11.2L16.2496 6.7C17.2496 5.7 18.8496 5.7 19.8496 6.7C20.8496 7.7 20.8496 9.3 19.8496 10.3L15.3496 14.8L16.7496 16.2L21.2496 11.7C22.1496 10.8 22.5496 9.7 22.5496 8.5C22.5496 7.3 22.1496 6.2 21.2496 5.3Z"></path>
      <path d="M8.35 16.7998C7.35 17.7998 5.75 17.7998 4.75 16.7998C3.75 15.7998 3.75 14.1998 4.75 13.1998L9.25 8.6998L7.85 7.2998L3.35 11.7998C1.55 13.5998 1.55 16.3998 3.35 18.1998C4.25 19.0998 5.35 19.4998 6.55 19.4998C7.75 19.4998 8.85 19.0998 9.75 18.1998L14.25 13.6998L12.85 12.2998L8.35 16.7998Z"></path>
    </svg>
  </a><span class="modifiers monospace"><span class="other-modifiers">override </span><span class="kind">val </span></span><span data-unresolved-link="scala.collection.generic/IsIterable///PointingToDeclaration/conversionscala.collection.generic.IsIterable.conversion//[]" class="documentableName monospace">conversion</span><span class="signature monospace">: <span data-unresolved-link="scala.collection.generic/IsIterable///PointingToGenericParameters(0)/Reprscala.collection.generic.IsIterable.Repr//[]">Repr</span> => <a href="../-iterable-ops.html">IterableOps</a>[<span data-unresolved-link="scala.collection.generic/IsIterableOnce///PointingToGenericParameters(1)/Ascala.collection.generic.IsIterableOnce.A//[]">A</span>, [A] =>> <a href="../-iterable.html">Iterable</a>[A], <span data-unresolved-link="scala.collection.generic/IsIterable///PointingToGenericParameters(1)/Cscala.collection.generic.IsIterable.C//[]">C</span>]</span><div><div class="originInfo"></div><div class="documentableBrief"></div></div></div></div></div></div>
        <h2 class="tabbedcontent">Linear supertypes</h2>
        <div data-togglable="Linear supertypes"><div class="symbol monospace">
  <div class="symbol paragraph">trait <a href="-is-iterable-once.html">IsIterableOnce</a>[<span data-unresolved-link="scala.collection.generic/IsIterable///PointingToGenericParameters(0)/Reprscala.collection.generic.IsIterable.Repr//[]">Repr</span>]</div>

  <div class="symbol paragraph">class <span data-unresolved-link="java.lang/Object///PointingToDeclaration/Objectjava.lang.Object//[]">Object</span></div>

  <div class="symbol paragraph">class <span data-unresolved-link="scala/Any///PointingToDeclaration/Anyscala.Any//[]">Any</span></div>
</div></div>
        <h2 class="tabbedcontent">Known subtypes</h2>
        <div data-togglable="Known subtypes"><div class="symbol monospace">
  <div class="symbol paragraph">trait <a href="-is-seq.html">IsSeq</a>[<span data-unresolved-link="scala.collection.generic/IsSeq///PointingToGenericParameters(0)/Reprscala.collection.generic.IsSeq.Repr//[]">Repr</span>]</div>

  <div class="symbol paragraph">trait <a href="-is-map.html">IsMap</a>[<span data-unresolved-link="scala.collection.generic/IsMap///PointingToGenericParameters(0)/Reprscala.collection.generic.IsMap.Repr//[]">Repr</span>]</div>
</div></div>
        <h2 class="tabbedcontent">Type hierarchy</h2>
        <div data-togglable="Type hierarchy"><div class="symbol monospace"><div id="inheritance-diagram" class="diagram-class"><svg id="graph"></svg><script type="text/dot" id="dot"> digraph g {
 node0 [label="<span style=\"color: #FFFFFF;\">trait <a href=\"-is-iterable.html\">IsIterable</a>[<span data-unresolved-link=\"scala.collection.generic/IsIterable///PointingToGenericParameters(0)/Reprscala.collection.generic.IsIterable.Repr//[]\">Repr</span>]</span>", style="fill: #1CAACF;"];
node5 [label="<span style=\"color: #FFFFFF;\">trait <a href=\"-is-map.html\">IsMap</a>[<span data-unresolved-link=\"scala.collection.generic/IsMap///PointingToGenericParameters(0)/Reprscala.collection.generic.IsMap.Repr//[]\">Repr</span>]</span>", style="fill: #1CAACF;"];
node2 [label="<span style=\"color: #FFFFFF;\">class <span data-unresolved-link=\"scala/Any///PointingToDeclaration/Anyscala.Any//[]\">Any</span></span>", style="fill: #45AD7D;"];
node3 [label="<span style=\"color: #FFFFFF;\">trait <a href=\"-is-iterable-once.html\">IsIterableOnce</a>[<span data-unresolved-link=\"scala.collection.generic/IsIterable///PointingToGenericParameters(0)/Reprscala.collection.generic.IsIterable.Repr//[]\">Repr</span>]</span>", style="fill: #1CAACF;"];
node1 [label="<span style=\"color: #FFFFFF;\">class <span data-unresolved-link=\"java.lang/Object///PointingToDeclaration/Objectjava.lang.Object//[]\">Object</span></span>", style="fill: #45AD7D;"];
node4 [label="<span style=\"color: #FFFFFF;\">trait <a href=\"-is-seq.html\">IsSeq</a>[<span data-unresolved-link=\"scala.collection.generic/IsSeq///PointingToGenericParameters(0)/Reprscala.collection.generic.IsSeq.Repr//[]\">Repr</span>]</span>", style="fill: #1CAACF;"];


 node0 -> node1;
node1 -> node2;
node0 -> node3;
node3 -> node1;
node4 -> node0;
node5 -> node0;

}
</script></div></div></div>
      </div>
    </div>
  </div>
</main><footer><span class="go-to-top-icon"><a href="#container"><span class="icon-vertical_align_top"></span>&nbsp;Back to top</a></span>Generated by&nbsp;<a href="https://github.com/lampepfl/dotty/tree/master/scala3doc"><img src="../../../../../images/scala3doc_logo.svg" alt="Scala3doc" class="scala3doc_logo"></img></a></footer></div></div><script type="text/javascript" src="../../../../../scripts/pages.js"></script><script type="text/javascript" src="../../../../../scripts/main.js"></script></body></html>
